# Examination 4 - Install a Web Server

# QUESTION A

How can we make the web server start with an addition of just one line to the playbook above?

- Först testade jag att lägga till en task där jag lade in parametern `state: started`, sedan blåste jag datorn och installerade ubuntu, därefter fungerade det.

Källa:
https://docs.ansible.com/ansible/latest/collections/ansible/builtin/service_module.html

# QUESTION B

You may have noted that the `become: true` statement has moved from a specific task to the beginning of the playbook, and is on the same indentation level as `tasks:`. What does this accomplish?

- Det gör så att alla tasks i playbooken körs med sudo, istället för att lägga det i enskilda tasks.

Källa:
https://docs.ansible.com/ansible/latest/playbook_guide/playbooks_privilege_escalation.html

# QUESTION C

 `04-uninstall-webserver.yml`

- Jag ändrade ordning på tasks och gjorde de ändringar som krävdes, körde playbooken som registrerade 3 changes.
- När jag kör curl får jag fail to connect och när jag loggar in på webservern och kör `systemctl status nginx` går den inte att hitta.
- För att även ta bort relaterade paket så lade jag till `autoremove: true`.

Why did we change the order of the tasks in the `04-uninstall-webserver.yml` playbook?

- För att vi kan inte stoppa en tjänst om den redan är avinstallerad och vi vill se till att tjänsten är avstängd och inte kör några processer i bakgrunden när vi avinstallerar den.

Källa:
https://docs.ansible.com/ansible/latest/collections/ansible/builtin/service_module.html
och Pär

# BONUS QUESTION

What is a good naming convention for tasks? (What SHOULD we write in the `name:` field`?)

- Jag tänker att korta men tydliga namn är bra. Kanske starta med nginx och därefter: install service, start service, uninstall service, etc.
- Ansible rekommenderar att man alltid namnger en task, även om man teoretiskt kan lämna fältet tomt.

Källa:
https://docs.ansible.com/ansible/2.8/user_guide/playbooks_best_practices.html#always-name-tasks
