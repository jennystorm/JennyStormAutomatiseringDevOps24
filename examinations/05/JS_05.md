# Examination 5 - Handling Configuration Changes

# QUESTION A

The output from the playbook run contains something that looks suspiciously like JSON, and that contains a number of keys and values that come from the output of the Ansible module.

What does the output look like the first time you run this playbook?

- Första gången jag kör den är changed i den JSON-liknande outputen true, eftersom ansible kopierade filen från source till destination.

What does the output look like the second time you run this playbook?

- Andra gången jag kör den är changed false, eftersom filen från source redan finns i destination och ansible kopierar därför inte över den.

# QUESTION B

Given what we know about the [ansible.builtin.service](https://docs.ansible.com/ansible/latest/collections/ansible/builtin/service_module.html), how can we do this through Ansible?

- Jag lägger till `state: restarted` i min playbook.

# QUESTION C

What is the disadvantage of having a task that _always_ makes sure a service is restarted, even if there is no configuration change?

- Det blir onödiga avbrott i tjänsten och varje gång man startar om så finns det en risk för att något går fel. Har man tjänsten på väldigt många servrar så kan det ta väldigt lång tid att köra sin playbook.


# BONUS QUESTION

There are at least two _other_ modules, in addition to the `ansible.builtin.service` module that can restart
a `systemd` service with Ansible. Which modules are they?

- Med `ansible.builtin.systemd_service` kan man starta om en tjänst med `state: restarted`.
- När det gällde den andra modulen man kan använda hade jag svårt att hitta något. Jag frågade chatgpt som svarade `ansible.builtin.systemd` men det förstår jag det som är en äldre variant av `ansible.builtin.systemd_service` (och på `systemd`:s docs.ansible-sida finns bara en länk vidare till den nyare `systemd_service`). Ett annat alternativ chatgpt ger mig är `ansible.builtin.command` som gör att man kan köra kommandon direkt på sina VM:s.

Källa:
https://docs.ansible.com/ansible/latest/collections/ansible/builtin/systemd_service_module.html#ansible-collections-ansible-builtin-systemd-service-module

https://docs.ansible.com/ansible/latest/collections/ansible/builtin/command_module.html


